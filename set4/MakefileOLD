
CFLAGS  = -std=c++0x -Wall -g #-pedantic -Wall -Wextra
LDFLAGS = -L/usr/X11R6/lib -lglut -lGL -lGLU -lXi -lXmu

OBJECTS = parser.tab.o lexer.yy.o shaded.o
SOURCES = shaded.cc #*.cc *.hh
#SOURCES	= main.cpp
#OBJECTS	= $(SRCS:.cpp=.o)
PROG	= hw0

all: shaded

shaded: $(OBJECTS)
	g++ $(LDFLAGS) $(CFLAGS) -o shaded $^

clean:
	rm *.o lexer.yy.cpp parser.tab.cpp parser.tab.hpp shaded

parser.tab.cpp parser.tab.hpp: parsing/parser.ypp
	bison -d parsing/parser.ypp

lexer.yy.cpp: parsing/lexer.lex
	flex -+ -o lexer.yy.cpp parsing/lexer.lex

#raster.o: raster/raster.h raster/raster.cpp
#	g++ -c $(CFLAGS) -o $@ raster/raster.cpp

#lexer.yy.o: lexer.yy.cpp
#	g++ -c -std=c++0x -g -o $@ lexer.yy.cpp

# necessary?
.cpp.o:
	g++ -c $(CFLAGS) -o $@ $<

#.cc.o:
#	g++ -c $(CFLAGS) -o $@ $<

.PHONY: all clean
